{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/store/gameStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nexport type SlotSymbol = 'üçí' | 'üçã' | 'üçä' | 'üçâ' | 'üíé' | '7Ô∏è‚É£' | '‚≠ê';\n\nexport type SpinState = 'idle' | 'spinning' | 'stopping' | 'stopped' | 'win_locked';\n\nexport interface WinLine {\n  lineIndex: number;\n  positions: number[];\n  symbol: SlotSymbol;\n  payout: number;\n}\n\nexport interface GameState {\n  credits: number;\n  currentBet: number;\n  betOptions: number[];\n  currentBetIndex: number;\n  spinState: SpinState;\n  lastWin: number;\n  reelResults: SlotSymbol[]; // Now 9 symbols for 3x3 grid\n  winLines: WinLine[];\n  lastDailyBonus: number;\n  lastGMBonus: number;\n  gmStreak: number;\n  sessionSpinCount: number;\n  totalSpins: number;\n  \n  // Actions\n  setCredits: (credits: number) => void;\n  addCredits: (amount: number) => void;\n  deductCredits: (amount: number) => void;\n  setBet: (betIndex: number) => void;\n  setSpinState: (state: SpinState) => void;\n  setReelResults: (results: SlotSymbol[]) => void;\n  setWinLines: (lines: WinLine[]) => void;\n  setLastWin: (amount: number) => void;\n  claimDailyBonus: () => boolean;\n  claimGMBonus: () => boolean;\n  incrementSpinCount: () => void;\n  resetGame: () => void;\n}\n\nconst INITIAL_CREDITS = 1000;\nconst DAILY_BONUS = 500;\nconst GM_BONUS = 200;\nconst BET_OPTIONS = [10, 50, 100, 500];\n\nexport const useGameStore = create<GameState>()(\n  persist(\n    (set, get) => ({\n      credits: INITIAL_CREDITS,\n      currentBet: BET_OPTIONS[0],\n      betOptions: BET_OPTIONS,\n      currentBetIndex: 0,\n      spinState: 'idle',\n      lastWin: 0,\n      reelResults: ['üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí'], // 3x3 grid\n      winLines: [],\n      lastDailyBonus: 0,\n      lastGMBonus: 0,\n      gmStreak: 0,\n      sessionSpinCount: 0,\n      totalSpins: 0,\n\n      setCredits: (credits: number) => set({ credits }),\n      \n      addCredits: (amount: number) => set((state: GameState) => ({ \n        credits: state.credits + amount \n      })),\n      \n      deductCredits: (amount: number) => set((state: GameState) => ({ \n        credits: Math.max(0, state.credits - amount) \n      })),\n      \n      setBet: (betIndex: number) => set((state: GameState) => ({ \n        currentBetIndex: betIndex,\n        currentBet: state.betOptions[betIndex]\n      })),\n      \n      setSpinState: (spinState: SpinState) => set({ spinState }),\n      \n      setReelResults: (reelResults: SlotSymbol[]) => set({ reelResults }),\n      \n      setWinLines: (winLines: WinLine[]) => set({ winLines }),\n      \n      setLastWin: (lastWin: number) => set({ lastWin }),\n      \n      claimDailyBonus: () => {\n        const now = Date.now();\n        const lastClaim = get().lastDailyBonus;\n        const dayInMs = 24 * 60 * 60 * 1000;\n        \n        if (now - lastClaim >= dayInMs) {\n          set((state: GameState) => ({\n            credits: state.credits + DAILY_BONUS,\n            lastDailyBonus: now,\n          }));\n          return true;\n        }\n        return false;\n      },\n      \n      claimGMBonus: () => {\n        const now = Date.now();\n        const lastClaim = get().lastGMBonus;\n        const dayInMs = 24 * 60 * 60 * 1000;\n        const twoDaysInMs = 48 * 60 * 60 * 1000;\n        \n        if (now - lastClaim >= dayInMs) {\n          const isConsecutive = (now - lastClaim) <= twoDaysInMs;\n          \n          set((state: GameState) => ({\n            credits: state.credits + GM_BONUS,\n            lastGMBonus: now,\n            gmStreak: isConsecutive ? state.gmStreak + 1 : 1,\n          }));\n          return true;\n        }\n        return false;\n      },\n      \n      incrementSpinCount: () => set((state: GameState) => ({\n        sessionSpinCount: state.sessionSpinCount + 1,\n        totalSpins: state.totalSpins + 1,\n      })),\n      \n      resetGame: () => set({\n        credits: INITIAL_CREDITS,\n        currentBet: BET_OPTIONS[0],\n        currentBetIndex: 0,\n        spinState: 'idle',\n        lastWin: 0,\n        reelResults: ['üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí', 'üçí'],\n        winLines: [],\n        sessionSpinCount: 0,\n      }),\n    }),\n    {\n      name: 'neon-pulse-slots-storage',\n    }\n  )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AA2CA,MAAM,kBAAkB;AACxB,MAAM,cAAc;AACpB,MAAM,WAAW;AACjB,MAAM,cAAc;IAAC;IAAI;IAAI;IAAK;CAAI;AAE/B,MAAM,eAAe,IAAA,qJAAM,IAChC,IAAA,2JAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,SAAS;QACT,YAAY,WAAW,CAAC,EAAE;QAC1B,YAAY;QACZ,iBAAiB;QACjB,WAAW;QACX,SAAS;QACT,aAAa;YAAC;YAAM;YAAM;YAAM;YAAM;YAAM;YAAM;YAAM;YAAM;SAAK;QACnE,UAAU,EAAE;QACZ,gBAAgB;QAChB,aAAa;QACb,UAAU;QACV,kBAAkB;QAClB,YAAY;QAEZ,YAAY,CAAC,UAAoB,IAAI;gBAAE;YAAQ;QAE/C,YAAY,CAAC,SAAmB,IAAI,CAAC,QAAqB,CAAC;oBACzD,SAAS,MAAM,OAAO,GAAG;gBAC3B,CAAC;QAED,eAAe,CAAC,SAAmB,IAAI,CAAC,QAAqB,CAAC;oBAC5D,SAAS,KAAK,GAAG,CAAC,GAAG,MAAM,OAAO,GAAG;gBACvC,CAAC;QAED,QAAQ,CAAC,WAAqB,IAAI,CAAC,QAAqB,CAAC;oBACvD,iBAAiB;oBACjB,YAAY,MAAM,UAAU,CAAC,SAAS;gBACxC,CAAC;QAED,cAAc,CAAC,YAAyB,IAAI;gBAAE;YAAU;QAExD,gBAAgB,CAAC,cAA8B,IAAI;gBAAE;YAAY;QAEjE,aAAa,CAAC,WAAwB,IAAI;gBAAE;YAAS;QAErD,YAAY,CAAC,UAAoB,IAAI;gBAAE;YAAQ;QAE/C,iBAAiB;YACf,MAAM,MAAM,KAAK,GAAG;YACpB,MAAM,YAAY,MAAM,cAAc;YACtC,MAAM,UAAU,KAAK,KAAK,KAAK;YAE/B,IAAI,MAAM,aAAa,SAAS;gBAC9B,IAAI,CAAC,QAAqB,CAAC;wBACzB,SAAS,MAAM,OAAO,GAAG;wBACzB,gBAAgB;oBAClB,CAAC;gBACD,OAAO;YACT;YACA,OAAO;QACT;QAEA,cAAc;YACZ,MAAM,MAAM,KAAK,GAAG;YACpB,MAAM,YAAY,MAAM,WAAW;YACnC,MAAM,UAAU,KAAK,KAAK,KAAK;YAC/B,MAAM,cAAc,KAAK,KAAK,KAAK;YAEnC,IAAI,MAAM,aAAa,SAAS;gBAC9B,MAAM,gBAAgB,AAAC,MAAM,aAAc;gBAE3C,IAAI,CAAC,QAAqB,CAAC;wBACzB,SAAS,MAAM,OAAO,GAAG;wBACzB,aAAa;wBACb,UAAU,gBAAgB,MAAM,QAAQ,GAAG,IAAI;oBACjD,CAAC;gBACD,OAAO;YACT;YACA,OAAO;QACT;QAEA,oBAAoB,IAAM,IAAI,CAAC,QAAqB,CAAC;oBACnD,kBAAkB,MAAM,gBAAgB,GAAG;oBAC3C,YAAY,MAAM,UAAU,GAAG;gBACjC,CAAC;QAED,WAAW,IAAM,IAAI;gBACnB,SAAS;gBACT,YAAY,WAAW,CAAC,EAAE;gBAC1B,iBAAiB;gBACjB,WAAW;gBACX,SAAS;gBACT,aAAa;oBAAC;oBAAM;oBAAM;oBAAM;oBAAM;oBAAM;oBAAM;oBAAM;oBAAM;iBAAK;gBACnE,UAAU,EAAE;gBACZ,kBAAkB;YACpB;IACF,CAAC,GACD;IACE,MAAM;AACR"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/lib/slotMachine.ts"],"sourcesContent":["import type { SlotSymbol, WinLine } from '@/store/gameStore';\n\nexport interface SpinResult {\n  symbols: SlotSymbol[]; // 9 symbols for 3x3 grid\n  payout: number;\n  winType: 'none' | 'small' | 'normal' | 'big' | 'jackpot';\n  winLines: WinLine[];\n  isNearMiss: boolean;\n}\n\nconst SYMBOLS: SlotSymbol[] = ['üçí', 'üçã', 'üçä', 'üçâ', 'üíé', '7Ô∏è‚É£', '‚≠ê'];\n\n// Payout multipliers for 3 matching symbols on a line\nconst SYMBOL_MULTIPLIERS: Record<SlotSymbol, number> = {\n  'üíé': 100,\n  '7Ô∏è‚É£': 50,\n  '‚≠ê': 25,\n  'üçâ': 10,\n  'üçä': 8,\n  'üçã': 6,\n  'üçí': 5,\n};\n\nconst SYMBOL_WEIGHTS: Record<SlotSymbol, number> = {\n  'üçí': 25,\n  'üçã': 20,\n  'üçä': 18,\n  'üçâ': 15,\n  '‚≠ê': 10,\n  '7Ô∏è‚É£': 8,\n  'üíé': 4,\n};\n\n// Win lines for 3x3 grid (0-8 positions)\n// Grid layout:\n// 0 1 2\n// 3 4 5\n// 6 7 8\n// Only horizontal rows and diagonals count as wins (5 lines total)\nconst WIN_LINES: number[][] = [\n  [0, 1, 2], // Top row\n  [3, 4, 5], // Middle row\n  [6, 7, 8], // Bottom row\n  [0, 4, 8], // Diagonal top-left to bottom-right\n  [2, 4, 6], // Diagonal top-right to bottom-left\n];\n\nfunction getWeightedRandomSymbol(): SlotSymbol {\n  const totalWeight = Object.values(SYMBOL_WEIGHTS).reduce((sum: number, w: number) => sum + w, 0);\n  let random = Math.random() * totalWeight;\n  \n  for (const [symbol, weight] of Object.entries(SYMBOL_WEIGHTS)) {\n    random -= weight;\n    if (random <= 0) {\n      return symbol as SlotSymbol;\n    }\n  }\n  \n  return 'üçí';\n}\n\nfunction checkWinLines(symbols: SlotSymbol[], bet: number): WinLine[] {\n  const winLines: WinLine[] = [];\n\n  WIN_LINES.forEach((line: number[], index: number) => {\n    const [pos1, pos2, pos3] = line;\n    const symbol1 = symbols[pos1];\n    const symbol2 = symbols[pos2];\n    const symbol3 = symbols[pos3];\n\n    if (symbol1 === symbol2 && symbol2 === symbol3) {\n      const multiplier = SYMBOL_MULTIPLIERS[symbol1];\n      const payout = bet * multiplier;\n\n      winLines.push({\n        lineIndex: index,\n        positions: line,\n        symbol: symbol1,\n        payout,\n      });\n    }\n  });\n\n  return winLines;\n}\n\nfunction calculateTotalPayout(winLines: WinLine[]): number {\n  return winLines.reduce((total: number, line: WinLine) => total + line.payout, 0);\n}\n\nfunction shouldForceWin(): boolean {\n  return Math.random() < 0.25; // 25% chance to win\n}\n\nfunction generateWinningGrid(bet: number): SlotSymbol[] {\n  // Start with empty grid\n  const symbols: SlotSymbol[] = Array(9).fill(null) as unknown as SlotSymbol[];\n  \n  // Decide how many lines to win\n  const winChance = Math.random();\n  \n  if (winChance < 0.01) {\n    // Jackpot: all üíé\n    symbols.fill('üíé');\n  } else if (winChance < 0.05) {\n    // Multiple win lines with high value symbols\n    const symbol = ['üíé', '7Ô∏è‚É£', '‚≠ê'][Math.floor(Math.random() * 3)] as SlotSymbol;\n    const numLines = Math.random() < 0.3 ? 2 : 1;\n    \n    if (numLines === 2) {\n      // Two crossing lines (top row and diagonal)\n      const lineIndices = [0, 3]; // Top row (0) and first diagonal (3)\n      lineIndices.forEach((lineIdx: number) => {\n        WIN_LINES[lineIdx].forEach((pos: number) => {\n          symbols[pos] = symbol;\n        });\n      });\n    } else {\n      // One line - ensure all 3 positions are filled\n      const lineIdx = Math.floor(Math.random() * WIN_LINES.length);\n      WIN_LINES[lineIdx].forEach((pos: number) => {\n        symbols[pos] = symbol;\n      });\n    }\n  } else {\n    // Single win line with random symbol\n    const symbol = getWeightedRandomSymbol();\n    const lineIdx = Math.floor(Math.random() * WIN_LINES.length);\n    // Fill all 3 positions of the winning line\n    WIN_LINES[lineIdx].forEach((pos: number) => {\n      symbols[pos] = symbol;\n    });\n  }\n  \n  // Fill remaining positions with different symbols to avoid accidental wins\n  const usedPositions = new Set<number>();\n  WIN_LINES.forEach((line: number[]) => {\n    const lineSymbols = line.map((pos: number) => symbols[pos]).filter((s: SlotSymbol) => s !== null);\n    if (lineSymbols.length === 3 && lineSymbols[0] === lineSymbols[1] && lineSymbols[1] === lineSymbols[2]) {\n      line.forEach((pos: number) => usedPositions.add(pos));\n    }\n  });\n  \n  for (let i = 0; i < 9; i++) {\n    if (symbols[i] === null) {\n      let newSymbol = getWeightedRandomSymbol();\n      // Make sure we don't accidentally create a winning line\n      let attempts = 0;\n      while (attempts < 10) {\n        symbols[i] = newSymbol;\n        const winLines = checkWinLines(symbols, 1);\n        // Check if new symbol creates unwanted win lines\n        const unwantedWin = winLines.some((wl: WinLine) => \n          !wl.positions.every((p: number) => usedPositions.has(p))\n        );\n        if (!unwantedWin) break;\n        newSymbol = getWeightedRandomSymbol();\n        attempts++;\n      }\n      symbols[i] = newSymbol;\n    }\n  }\n  \n  return symbols;\n}\n\nfunction generateLosingGrid(): SlotSymbol[] {\n  const symbols: SlotSymbol[] = [];\n  \n  for (let i = 0; i < 9; i++) {\n    symbols.push(getWeightedRandomSymbol());\n  }\n  \n  // Ensure no winning lines exist\n  const winLines = checkWinLines(symbols, 1);\n  if (winLines.length > 0) {\n    // Break the first win line\n    const firstWinLine = winLines[0];\n    const posToChange = firstWinLine.positions[2];\n    let newSymbol = getWeightedRandomSymbol();\n    \n    // Make sure new symbol is different\n    while (newSymbol === symbols[firstWinLine.positions[0]]) {\n      newSymbol = getWeightedRandomSymbol();\n    }\n    \n    symbols[posToChange] = newSymbol;\n  }\n  \n  return symbols;\n}\n\nfunction checkNearMiss(symbols: SlotSymbol[]): boolean {\n  // Near miss: 2 symbols match in any win line, but not all 3\n  for (const line of WIN_LINES) {\n    const [pos1, pos2, pos3] = line;\n    const symbol1 = symbols[pos1];\n    const symbol2 = symbols[pos2];\n    const symbol3 = symbols[pos3];\n    \n    if ((symbol1 === symbol2 && symbol1 !== symbol3) ||\n        (symbol2 === symbol3 && symbol2 !== symbol1) ||\n        (symbol1 === symbol3 && symbol1 !== symbol2)) {\n      return true;\n    }\n  }\n  \n  return false;\n}\n\nexport function spinSlotMachine(bet: number): SpinResult {\n  let symbols: SlotSymbol[];\n  \n  if (shouldForceWin()) {\n    symbols = generateWinningGrid(bet);\n  } else {\n    symbols = generateLosingGrid();\n  }\n  \n  const winLines = checkWinLines(symbols, bet);\n  const payout = calculateTotalPayout(winLines);\n  const isNearMiss = winLines.length === 0 && checkNearMiss(symbols);\n  \n  let winType: 'none' | 'small' | 'normal' | 'big' | 'jackpot' = 'none';\n  if (payout > 0) {\n    const multiplier = payout / bet;\n    if (multiplier >= 100) {\n      winType = 'jackpot';\n    } else if (multiplier >= 50) {\n      winType = 'big';\n    } else if (multiplier >= 10) {\n      winType = 'normal';\n    } else {\n      winType = 'small';\n    }\n  }\n  \n  return {\n    symbols,\n    payout,\n    winType,\n    winLines,\n    isNearMiss,\n  };\n}\n\nexport function getPayoutInfo(symbols: SlotSymbol[], bet: number): string {\n  const winLines = checkWinLines(symbols, bet);\n  const payout = calculateTotalPayout(winLines);\n  \n  if (payout === 0) return 'No win';\n  \n  const multiplier = payout / bet;\n  return `Win: ${payout} (${multiplier}x) - ${winLines.length} line${winLines.length > 1 ? 's' : ''}`;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/lib/audioManager.ts"],"sourcesContent":["import { Howl } from 'howler';\n\nclass AudioManager {\n  private sounds: Map<string, Howl> = new Map();\n  private initialized = false;\n  private volume = 0.5;\n\n  init(): void {\n    if (this.initialized) return;\n    \n    this.sounds.set('spin', new Howl({\n      src: [this.generateSpinSound()],\n      volume: this.volume,\n      loop: true,\n    }));\n    \n    this.sounds.set('stop', new Howl({\n      src: [this.generateStopSound()],\n      volume: this.volume * 0.8,\n    }));\n    \n    this.sounds.set('win', new Howl({\n      src: [this.generateWinSound()],\n      volume: this.volume * 0.9,\n    }));\n    \n    this.sounds.set('jackpot', new Howl({\n      src: [this.generateJackpotSound()],\n      volume: this.volume,\n    }));\n    \n    this.sounds.set('click', new Howl({\n      src: [this.generateClickSound()],\n      volume: this.volume * 0.6,\n    }));\n    \n    this.sounds.set('tension', new Howl({\n      src: [this.generateTensionSound()],\n      volume: this.volume * 0.7,\n      loop: true,\n    }));\n    \n    this.initialized = true;\n  }\n\n  private generateSpinSound(): string {\n    const ctx = new (window.AudioContext || (window as typeof window & { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n    const duration = 0.5;\n    const sampleRate = ctx.sampleRate;\n    const length = sampleRate * duration;\n    const buffer = ctx.createBuffer(1, length, sampleRate);\n    const data = buffer.getChannelData(0);\n    \n    for (let i = 0; i < length; i++) {\n      const t = i / sampleRate;\n      const freq = 200 + (t / duration) * 100;\n      data[i] = Math.sin(2 * Math.PI * freq * t) * 0.1 * (1 - t / duration);\n    }\n    \n    return this.bufferToDataURL(buffer);\n  }\n\n  private generateStopSound(): string {\n    const ctx = new (window.AudioContext || (window as typeof window & { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n    const duration = 0.15;\n    const sampleRate = ctx.sampleRate;\n    const length = sampleRate * duration;\n    const buffer = ctx.createBuffer(1, length, sampleRate);\n    const data = buffer.getChannelData(0);\n    \n    for (let i = 0; i < length; i++) {\n      const t = i / sampleRate;\n      data[i] = Math.sin(2 * Math.PI * 150 * t) * 0.3 * Math.exp(-t * 10);\n    }\n    \n    return this.bufferToDataURL(buffer);\n  }\n\n  private generateWinSound(): string {\n    const ctx = new (window.AudioContext || (window as typeof window & { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n    const duration = 0.8;\n    const sampleRate = ctx.sampleRate;\n    const length = sampleRate * duration;\n    const buffer = ctx.createBuffer(1, length, sampleRate);\n    const data = buffer.getChannelData(0);\n    \n    const notes = [523.25, 659.25, 783.99];\n    \n    for (let i = 0; i < length; i++) {\n      const t = i / sampleRate;\n      let sample = 0;\n      \n      for (let j = 0; j < notes.length; j++) {\n        const noteStart = (j * duration) / notes.length;\n        if (t >= noteStart) {\n          const noteT = t - noteStart;\n          sample += Math.sin(2 * Math.PI * notes[j] * noteT) * 0.1 * Math.exp(-noteT * 3);\n        }\n      }\n      \n      data[i] = sample;\n    }\n    \n    return this.bufferToDataURL(buffer);\n  }\n\n  private generateJackpotSound(): string {\n    const ctx = new (window.AudioContext || (window as typeof window & { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n    const duration = 1.5;\n    const sampleRate = ctx.sampleRate;\n    const length = sampleRate * duration;\n    const buffer = ctx.createBuffer(1, length, sampleRate);\n    const data = buffer.getChannelData(0);\n    \n    for (let i = 0; i < length; i++) {\n      const t = i / sampleRate;\n      const freq = 440 * Math.pow(2, t);\n      data[i] = Math.sin(2 * Math.PI * freq * t) * 0.2 * (1 - t / duration);\n    }\n    \n    return this.bufferToDataURL(buffer);\n  }\n\n  private generateClickSound(): string {\n    const ctx = new (window.AudioContext || (window as typeof window & { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n    const duration = 0.05;\n    const sampleRate = ctx.sampleRate;\n    const length = sampleRate * duration;\n    const buffer = ctx.createBuffer(1, length, sampleRate);\n    const data = buffer.getChannelData(0);\n    \n    for (let i = 0; i < length; i++) {\n      data[i] = (Math.random() * 2 - 1) * 0.1 * (1 - i / length);\n    }\n    \n    return this.bufferToDataURL(buffer);\n  }\n\n  private generateTensionSound(): string {\n    const ctx = new (window.AudioContext || (window as typeof window & { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n    const duration = 2.0;\n    const sampleRate = ctx.sampleRate;\n    const length = sampleRate * duration;\n    const buffer = ctx.createBuffer(1, length, sampleRate);\n    const data = buffer.getChannelData(0);\n    \n    for (let i = 0; i < length; i++) {\n      const t = i / sampleRate;\n      const freq = 100 + (t / duration) * 300;\n      data[i] = Math.sin(2 * Math.PI * freq * t) * 0.15 * (t / duration);\n    }\n    \n    return this.bufferToDataURL(buffer);\n  }\n\n  private bufferToDataURL(buffer: AudioBuffer): string {\n    const data = buffer.getChannelData(0);\n    const wav = this.createWAV(data, buffer.sampleRate);\n    const blob = new Blob([wav], { type: 'audio/wav' });\n    return URL.createObjectURL(blob);\n  }\n\n  private createWAV(samples: Float32Array, sampleRate: number): ArrayBuffer {\n    const buffer = new ArrayBuffer(44 + samples.length * 2);\n    const view = new DataView(buffer);\n    \n    const writeString = (offset: number, str: string): void => {\n      for (let i = 0; i < str.length; i++) {\n        view.setUint8(offset + i, str.charCodeAt(i));\n      }\n    };\n    \n    writeString(0, 'RIFF');\n    view.setUint32(4, 36 + samples.length * 2, true);\n    writeString(8, 'WAVE');\n    writeString(12, 'fmt ');\n    view.setUint32(16, 16, true);\n    view.setUint16(20, 1, true);\n    view.setUint16(22, 1, true);\n    view.setUint32(24, sampleRate, true);\n    view.setUint32(28, sampleRate * 2, true);\n    view.setUint16(32, 2, true);\n    view.setUint16(34, 16, true);\n    writeString(36, 'data');\n    view.setUint32(40, samples.length * 2, true);\n    \n    let offset = 44;\n    for (let i = 0; i < samples.length; i++) {\n      const sample = Math.max(-1, Math.min(1, samples[i]));\n      view.setInt16(offset, sample < 0 ? sample * 0x8000 : sample * 0x7FFF, true);\n      offset += 2;\n    }\n    \n    return buffer;\n  }\n\n  play(soundName: string): void {\n    if (!this.initialized) this.init();\n    \n    const sound = this.sounds.get(soundName);\n    if (sound) {\n      sound.play();\n    }\n  }\n\n  stop(soundName: string): void {\n    const sound = this.sounds.get(soundName);\n    if (sound) {\n      sound.stop();\n    }\n  }\n\n  setVolume(vol: number): void {\n    this.volume = Math.max(0, Math.min(1, vol));\n    this.sounds.forEach((sound: Howl) => {\n      sound.volume(this.volume);\n    });\n  }\n}\n\nexport const audioManager = new AudioManager();\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 597, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/components/slot/PixiStage.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as PIXI from 'pixi.js';\nimport gsap from 'gsap';\nimport type { SlotSymbol, WinLine } from '@/store/gameStore';\nimport { audioManager } from '@/lib/audioManager';\n\ninterface PixiStageProps {\n  symbols: SlotSymbol[]; // 9 symbols for 3x3 grid\n  onSpinComplete: () => void;\n  isSpinning: boolean;\n  isNearMiss: boolean;\n  winLines: WinLine[];\n}\n\nconst SYMBOL_SIZE = 80;\nconst SLOT_SIZE = 100;\nconst GRID_SPACING = 10;\nconst GRID_SIZE = 3;\n\nexport function PixiStage({ symbols, onSpinComplete, isSpinning, isNearMiss, winLines }: PixiStageProps): JSX.Element {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const appRef = useRef<PIXI.Application | null>(null);\n  const slotsRef = useRef<PIXI.Container[]>([]);\n  const winLineGraphicsRef = useRef<PIXI.Graphics | null>(null);\n  const symbolsRef = useRef<SlotSymbol[]>(Array(9).fill('üçí') as SlotSymbol[]);\n\n  useEffect(() => {\n    if (!containerRef.current || appRef.current) return;\n\n    const app = new PIXI.Application();\n    \n    const gridWidth = GRID_SIZE * SLOT_SIZE + (GRID_SIZE - 1) * GRID_SPACING;\n    const gridHeight = GRID_SIZE * SLOT_SIZE + (GRID_SIZE - 1) * GRID_SPACING;\n    const canvasWidth = gridWidth + 40;\n    const canvasHeight = gridHeight + 40;\n    \n    app.init({\n      width: canvasWidth,\n      height: canvasHeight,\n      backgroundColor: 0x050505,\n      antialias: true,\n    }).then(() => {\n      if (containerRef.current) {\n        containerRef.current.appendChild(app.canvas);\n        appRef.current = app;\n        initGrid(app);\n      }\n    }).catch((error: Error) => {\n      console.error('Failed to initialize Pixi:', error);\n    });\n\n    return () => {\n      if (appRef.current) {\n        appRef.current.destroy(true, { children: true, texture: true });\n        appRef.current = null;\n      }\n    };\n  }, []);\n\n  const initGrid = (app: PIXI.Application): void => {\n    const slots: PIXI.Container[] = [];\n    const offsetX = 20;\n    const offsetY = 20;\n\n    // Create 3x3 grid\n    for (let row = 0; row < GRID_SIZE; row++) {\n      for (let col = 0; col < GRID_SIZE; col++) {\n        const index = row * GRID_SIZE + col;\n        const slot = new PIXI.Container();\n        \n        slot.x = offsetX + col * (SLOT_SIZE + GRID_SPACING);\n        slot.y = offsetY + row * (SLOT_SIZE + GRID_SPACING);\n\n        // Background\n        const bg = new PIXI.Graphics();\n        bg.rect(0, 0, SLOT_SIZE, SLOT_SIZE);\n        bg.fill({ color: 0x1a1a2e, alpha: 0.8 });\n        bg.stroke({ width: 2, color: 0x00f0ff, alpha: 0.5 });\n        slot.addChild(bg);\n\n        // Symbol text\n        const symbolText = new PIXI.Text({\n          text: 'üçí',\n          style: {\n            fontSize: SYMBOL_SIZE,\n            align: 'center',\n          },\n        });\n        symbolText.x = SLOT_SIZE / 2;\n        symbolText.y = SLOT_SIZE / 2;\n        symbolText.anchor.set(0.5);\n        slot.addChild(symbolText);\n\n        app.stage.addChild(slot);\n        slots.push(slot);\n      }\n    }\n\n    // Create win line graphics layer\n    const winLineGraphics = new PIXI.Graphics();\n    app.stage.addChild(winLineGraphics);\n    winLineGraphicsRef.current = winLineGraphics;\n\n    slotsRef.current = slots;\n  };\n\n  useEffect(() => {\n    if (isSpinning && slotsRef.current.length > 0) {\n      spinSlots();\n    }\n  }, [isSpinning]);\n\n  useEffect(() => {\n    if (winLines.length > 0 && !isSpinning) {\n      drawWinLines();\n    } else {\n      clearWinLines();\n    }\n  }, [winLines, isSpinning]);\n\n  const spinSlots = (): void => {\n    audioManager.play('spin');\n    clearWinLines();\n\n    const slots = slotsRef.current;\n    const timeline = gsap.timeline();\n\n    // Spin all slots with staggered start\n    slots.forEach((slot: PIXI.Container, index: number) => {\n      const symbolText = slot.children[1] as PIXI.Text;\n      const row = Math.floor(index / GRID_SIZE);\n      const col = index % GRID_SIZE;\n      const delay = (row * 0.05) + (col * 0.05);\n      \n      timeline.to(symbolText, {\n        rotation: Math.PI * 6,\n        duration: 0.5,\n        ease: 'power2.in',\n        onUpdate: () => {\n          symbolText.text = ['üçí', 'üçã', 'üçä', 'üçâ', 'üíé', '7Ô∏è‚É£', '‚≠ê'][Math.floor(Math.random() * 7)];\n        },\n      }, delay);\n    });\n\n    timeline.call(() => {\n      stopSlots();\n    });\n  };\n\n  const stopSlots = (): void => {\n    audioManager.stop('spin');\n\n    const slots = slotsRef.current;\n    const stopTimeline = gsap.timeline();\n\n    // Stop slots row by row\n    slots.forEach((slot: PIXI.Container, index: number) => {\n      const symbolText = slot.children[1] as PIXI.Text;\n      const row = Math.floor(index / GRID_SIZE);\n      const delay = row * 0.3;\n\n      stopTimeline.to(symbolText, {\n        rotation: 0,\n        duration: 0.3,\n        ease: 'back.out',\n        onStart: () => {\n          symbolText.text = symbols[index];\n          if (row === 0 && index % GRID_SIZE === 0) {\n            audioManager.play('stop');\n          }\n        },\n      }, delay);\n    });\n\n    stopTimeline.call(() => {\n      onSpinComplete();\n    });\n  };\n\n  const drawWinLines = (): void => {\n    const graphics = winLineGraphicsRef.current;\n    if (!graphics) return;\n\n    graphics.clear();\n\n    const offsetX = 20;\n    const offsetY = 20;\n\n    winLines.forEach((winLine: WinLine) => {\n      const positions = winLine.positions;\n      const startPos = positions[0];\n      const endPos = positions[positions.length - 1];\n\n      const startRow = Math.floor(startPos / GRID_SIZE);\n      const startCol = startPos % GRID_SIZE;\n      const endRow = Math.floor(endPos / GRID_SIZE);\n      const endCol = endPos % GRID_SIZE;\n\n      const startX = offsetX + startCol * (SLOT_SIZE + GRID_SPACING) + SLOT_SIZE / 2;\n      const startY = offsetY + startRow * (SLOT_SIZE + GRID_SPACING) + SLOT_SIZE / 2;\n      const endX = offsetX + endCol * (SLOT_SIZE + GRID_SPACING) + SLOT_SIZE / 2;\n      const endY = offsetY + endRow * (SLOT_SIZE + GRID_SPACING) + SLOT_SIZE / 2;\n\n      // Draw glowing line\n      graphics.moveTo(startX, startY);\n      graphics.lineTo(endX, endY);\n      graphics.stroke({ \n        width: 4, \n        color: 0xffd700, \n        alpha: 0.8 \n      });\n\n      // Animate the line\n      gsap.fromTo(graphics, \n        { alpha: 0.5 },\n        { \n          alpha: 1, \n          duration: 0.5, \n          repeat: 5, \n          yoyo: true \n        }\n      );\n    });\n\n    // Highlight winning slots\n    winLines.forEach((winLine: WinLine) => {\n      winLine.positions.forEach((pos: number) => {\n        const slot = slotsRef.current[pos];\n        const bg = slot.children[0] as PIXI.Graphics;\n        \n        gsap.to(bg, {\n          alpha: 1,\n          duration: 0.3,\n          repeat: 5,\n          yoyo: true,\n        });\n      });\n    });\n  };\n\n  const clearWinLines = (): void => {\n    const graphics = winLineGraphicsRef.current;\n    if (graphics) {\n      graphics.clear();\n    }\n  };\n\n  return (\n    <div \n      ref={containerRef} \n      className=\"flex items-center justify-center\"\n      style={{ filter: 'drop-shadow(0 0 20px rgba(0, 240, 255, 0.5))' }}\n    />\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 870, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KArBS"}},
    {"offset": {"line": 957, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/components/slot/HUDOverlay.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useGameStore } from '@/store/gameStore';\nimport { Button } from '@/components/ui/button';\nimport { audioManager } from '@/lib/audioManager';\nimport gsap from 'gsap';\n\ninterface HUDOverlayProps {\n  onSpin: () => void;\n  canSpin: boolean;\n}\n\nexport function HUDOverlay({ onSpin, canSpin }: HUDOverlayProps): JSX.Element {\n  const credits = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.credits);\n  const currentBet = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.currentBet);\n  const currentBetIndex = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.currentBetIndex);\n  const betOptions = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.betOptions);\n  const lastWin = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.lastWin);\n  const winLines = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.winLines);\n  const gmStreak = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.gmStreak);\n  const lastGMBonus = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.lastGMBonus);\n  const setBet = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.setBet);\n  const claimGMBonus = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.claimGMBonus);\n\n  const [displayCredits, setDisplayCredits] = useState(0);\n  const [canClaimGM, setCanClaimGM] = useState(false);\n  const [gmCooldown, setGMCooldown] = useState('');\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) {\n      setDisplayCredits(credits);\n      return;\n    }\n    gsap.to({ value: displayCredits }, {\n      value: credits,\n      duration: 0.5,\n      ease: 'power2.out',\n      onUpdate: function() {\n        setDisplayCredits(Math.floor((this.targets()[0] as { value: number }).value));\n      },\n    });\n  }, [credits, mounted, displayCredits]);\n\n  useEffect(() => {\n    const checkGMStatus = (): void => {\n      const now = Date.now();\n      const dayInMs = 24 * 60 * 60 * 1000;\n      const timeSinceLastGM = now - lastGMBonus;\n      \n      if (timeSinceLastGM >= dayInMs) {\n        setCanClaimGM(true);\n        setGMCooldown('');\n      } else {\n        setCanClaimGM(false);\n        const remainingMs = dayInMs - timeSinceLastGM;\n        const hours = Math.floor(remainingMs / (60 * 60 * 1000));\n        const minutes = Math.floor((remainingMs % (60 * 60 * 1000)) / (60 * 1000));\n        setGMCooldown(`${hours}h ${minutes}m`);\n      }\n    };\n\n    checkGMStatus();\n    const interval = setInterval(checkGMStatus, 60000);\n    return () => clearInterval(interval);\n  }, [lastGMBonus]);\n\n  const handleSpin = (): void => {\n    if (canSpin && credits >= currentBet) {\n      audioManager.play('click');\n      onSpin();\n    }\n  };\n\n  const handleBetChange = (index: number): void => {\n    audioManager.play('click');\n    setBet(index);\n  };\n\n  const handleGMClick = (): void => {\n    if (canClaimGM) {\n      audioManager.play('win');\n      claimGMBonus();\n    }\n  };\n\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <div className=\"absolute inset-0 flex flex-col items-center justify-between p-4 pt-12 pointer-events-none\">\n      <div className=\"w-full max-w-md flex justify-between items-start pointer-events-auto\">\n        <div className=\"rounded-lg border-2 border-cyan-400/50 bg-black/80 px-4 py-2 shadow-[0_0_15px_rgba(0,240,255,0.3)]\">\n          <div className=\"text-xs text-cyan-300\">Credits</div>\n          <div className=\"text-2xl font-bold font-mono text-yellow-400\">\n            {displayCredits.toLocaleString()}\n          </div>\n        </div>\n\n        <Button\n          onClick={handleGMClick}\n          disabled={!canClaimGM}\n          className={`rounded-full w-16 h-16 text-2xl font-bold transition-all duration-300 ${\n            canClaimGM\n              ? 'bg-gradient-to-br from-yellow-400 to-orange-500 hover:from-yellow-300 hover:to-orange-400 shadow-[0_0_20px_rgba(251,191,36,0.6)] animate-pulse'\n              : 'bg-gray-700 text-gray-400 cursor-not-allowed'\n          } ${gmStreak >= 3 ? 'ring-4 ring-red-500 ring-offset-2 ring-offset-black' : ''}`}\n        >\n          {canClaimGM ? 'GM' : 'üîí'}\n        </Button>\n      </div>\n\n      {!canClaimGM && gmCooldown && (\n        <div className=\"absolute top-24 right-4 text-xs text-cyan-300 bg-black/60 px-2 py-1 rounded pointer-events-none\">\n          Next GM: {gmCooldown}\n        </div>\n      )}\n\n      {lastWin > 0 && (\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-2 pointer-events-none\">\n          <div className=\"text-6xl font-bold text-yellow-400 animate-pulse drop-shadow-[0_0_20px_rgba(251,191,36,1)]\">\n            +{lastWin.toLocaleString()}\n          </div>\n          {winLines.length > 1 && (\n            <div className=\"text-3xl font-bold text-cyan-400 animate-pulse drop-shadow-[0_0_15px_rgba(0,240,255,1)]\">\n              {winLines.length.toString()} LINES!\n            </div>\n          )}\n        </div>\n      )}\n\n      <div className=\"w-full max-w-md space-y-4 pointer-events-auto\">\n        <div className=\"flex justify-center gap-2\">\n          {betOptions.map((bet: number, index: number) => (\n            <Button\n              key={bet}\n              onClick={() => handleBetChange(index)}\n              className={`px-6 py-2 font-bold transition-all duration-200 ${\n                currentBetIndex === index\n                  ? 'bg-gradient-to-r from-cyan-500 to-purple-600 shadow-[0_0_15px_rgba(0,240,255,0.6)] scale-110'\n                  : 'bg-purple-900/50 hover:bg-purple-800/70'\n              }`}\n            >\n              {bet.toString()}\n            </Button>\n          ))}\n        </div>\n\n        <Button\n          onClick={handleSpin}\n          disabled={!canSpin || credits < currentBet}\n          className={`w-full h-20 text-3xl font-bold transition-all duration-200 ${\n            canSpin && credits >= currentBet\n              ? 'bg-gradient-to-r from-pink-500 via-purple-600 to-cyan-500 hover:from-pink-400 hover:via-purple-500 hover:to-cyan-400 shadow-[0_0_25px_rgba(236,72,153,0.6)] animate-pulse active:scale-95'\n              : 'bg-gray-700 text-gray-400 cursor-not-allowed opacity-50'\n          }`}\n        >\n          {credits < currentBet ? 'INSUFFICIENT CREDITS' : 'SPIN'}\n        </Button>\n\n        {credits < currentBet && (\n          <div className=\"text-center text-sm text-red-400 animate-pulse\">\n            Need {(currentBet - credits).toString()} more credits\n          </div>\n        )}\n\n        <a\n          href=\"https://base.app/profile/1x321\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"block w-full mt-4\"\n        >\n          <div className=\"w-full rounded-lg border-2 border-yellow-400/50 bg-gradient-to-r from-purple-900/80 to-pink-900/80 px-4 py-3 shadow-[0_0_15px_rgba(251,191,36,0.3)] hover:shadow-[0_0_25px_rgba(251,191,36,0.5)] transition-all duration-300 hover:scale-105\">\n            <div className=\"text-center\">\n              <div className=\"text-sm font-semibold text-yellow-300 mb-1\">\n                ü§ù Follow & I'll Follow Back\n              </div>\n              <div className=\"text-xs text-cyan-200\">\n                Let's support each other!\n              </div>\n            </div>\n          </div>\n        </a>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/components/slot/DailyBonusModal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useGameStore } from '@/store/gameStore';\nimport { Button } from '@/components/ui/button';\nimport { audioManager } from '@/lib/audioManager';\n\nexport function DailyBonusModal(): JSX.Element {\n  const [isOpen, setIsOpen] = useState(false);\n  const [claimed, setClaimed] = useState(false);\n  const [mounted, setMounted] = useState(false);\n  const claimDailyBonus = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.claimDailyBonus);\n\n  useEffect(() => {\n    setMounted(true);\n    const checkBonus = (): void => {\n      const lastBonus = useGameStore.getState().lastDailyBonus;\n      const now = Date.now();\n      const dayInMs = 24 * 60 * 60 * 1000;\n      \n      if (now - lastBonus >= dayInMs) {\n        setIsOpen(true);\n      }\n    };\n\n    checkBonus();\n  }, []);\n\n  const handleClaim = (): void => {\n    audioManager.play('win');\n    const success = claimDailyBonus();\n    if (success) {\n      setClaimed(true);\n      setTimeout(() => {\n        setIsOpen(false);\n      }, 1500);\n    }\n  };\n\n  if (!mounted || !isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n      <div className=\"relative w-[90vw] max-w-md rounded-lg border-2 border-cyan-400 bg-gradient-to-b from-purple-900 to-black p-8 shadow-[0_0_30px_rgba(0,240,255,0.5)]\">\n        <div className=\"mb-6 text-center\">\n          <h2 className=\"mb-2 text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500\">\n            Daily Supply Drop\n          </h2>\n          <p className=\"text-lg text-cyan-300\">\n            Your daily credits are ready!\n          </p>\n        </div>\n\n        {!claimed ? (\n          <Button\n            onClick={handleClaim}\n            className=\"w-full h-16 text-2xl font-bold bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-400 hover:to-purple-500 shadow-[0_0_20px_rgba(0,240,255,0.6)] transition-all duration-200 active:scale-95\"\n          >\n            Open Crate (+500 Credits)\n          </Button>\n        ) : (\n          <div className=\"text-center\">\n            <div className=\"text-5xl font-bold text-yellow-400 animate-pulse\">\n              {'+500'}\n            </div>\n            <p className=\"mt-2 text-cyan-300\">Credits added!</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,kBAAkB,IAAA,qIAAY;yDAAC,CAAC,QAAoD,MAAM,eAAe;;IAE/G,IAAA,0KAAS;qCAAC;YACR,WAAW;YACX,MAAM;wDAAa;oBACjB,MAAM,YAAY,qIAAY,CAAC,QAAQ,GAAG,cAAc;oBACxD,MAAM,MAAM,KAAK,GAAG;oBACpB,MAAM,UAAU,KAAK,KAAK,KAAK;oBAE/B,IAAI,MAAM,aAAa,SAAS;wBAC9B,UAAU;oBACZ;gBACF;;YAEA;QACF;oCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,sIAAY,CAAC,IAAI,CAAC;QAClB,MAAM,UAAU;QAChB,IAAI,SAAS;YACX,WAAW;YACX,WAAW;gBACT,UAAU;YACZ,GAAG;QACL;IACF;IAEA,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAqG;;;;;;sCAGnH,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;gBAKtC,CAAC,wBACA,6LAAC,wIAAM;oBACL,SAAS;oBACT,WAAU;8BACX;;;;;yCAID,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACZ;;;;;;sCAEH,6LAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;;;;;;;;;;;;AAM9C;GAhEgB;;QAIU,qIAAY;;;KAJtB"}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/components/slot/Leaderboard.tsx"],"sourcesContent":["'use client';\n\nimport { useGameStore } from '@/store/gameStore';\n\ninterface LeaderboardEntry {\n  rank: number;\n  username: string;\n  credits: number;\n  isCurrentUser: boolean;\n}\n\nexport function Leaderboard(): JSX.Element {\n  const credits = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.credits);\n\n  const mockLeaderboard: LeaderboardEntry[] = [\n    { rank: 1, username: 'CryptoKing', credits: 50000, isCurrentUser: false },\n    { rank: 2, username: 'LuckyWhale', credits: 35000, isCurrentUser: false },\n    { rank: 3, username: 'SlotMaster', credits: 28000, isCurrentUser: false },\n    { rank: 4, username: 'DiamondHands', credits: 22000, isCurrentUser: false },\n    { rank: 5, username: 'NeonRider', credits: 18000, isCurrentUser: false },\n    { rank: 6, username: 'You', credits: credits, isCurrentUser: true },\n    { rank: 7, username: 'BaseBuilder', credits: 12000, isCurrentUser: false },\n    { rank: 8, username: 'JackpotJoe', credits: 9500, isCurrentUser: false },\n    { rank: 9, username: 'SpinDoctor', credits: 7800, isCurrentUser: false },\n    { rank: 10, username: 'ReelDeal', credits: 6200, isCurrentUser: false },\n  ];\n\n  return (\n    <div className=\"w-full max-w-sm rounded-lg border-2 border-purple-500/50 bg-black/70 p-4 shadow-[0_0_15px_rgba(168,85,247,0.3)]\">\n      <h3 className=\"mb-3 text-center text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500\">\n        üèÜ Leaderboard\n      </h3>\n      \n      <div className=\"space-y-2\">\n        {mockLeaderboard.map((entry: LeaderboardEntry) => (\n          <div\n            key={entry.rank}\n            className={`flex items-center justify-between rounded px-3 py-2 text-sm transition-colors ${\n              entry.isCurrentUser\n                ? 'bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-cyan-400/50'\n                : 'bg-purple-900/20'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <span className={`font-bold ${\n                entry.rank === 1 ? 'text-yellow-400' :\n                entry.rank === 2 ? 'text-gray-300' :\n                entry.rank === 3 ? 'text-orange-400' :\n                entry.isCurrentUser ? 'text-cyan-400' :\n                'text-purple-300'\n              }`}>\n                #{entry.rank.toString()}\n              </span>\n              <span className={entry.isCurrentUser ? 'text-cyan-300 font-bold' : 'text-purple-200'}>\n                {entry.username}\n              </span>\n            </div>\n            <span className=\"font-mono font-bold text-yellow-400\">\n              {entry.credits.toLocaleString()}\n            </span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAWO,SAAS;;IACd,MAAM,UAAU,IAAA,qIAAY;6CAAC,CAAC,QAAoD,MAAM,OAAO;;IAE/F,MAAM,kBAAsC;QAC1C;YAAE,MAAM;YAAG,UAAU;YAAc,SAAS;YAAO,eAAe;QAAM;QACxE;YAAE,MAAM;YAAG,UAAU;YAAc,SAAS;YAAO,eAAe;QAAM;QACxE;YAAE,MAAM;YAAG,UAAU;YAAc,SAAS;YAAO,eAAe;QAAM;QACxE;YAAE,MAAM;YAAG,UAAU;YAAgB,SAAS;YAAO,eAAe;QAAM;QAC1E;YAAE,MAAM;YAAG,UAAU;YAAa,SAAS;YAAO,eAAe;QAAM;QACvE;YAAE,MAAM;YAAG,UAAU;YAAO,SAAS;YAAS,eAAe;QAAK;QAClE;YAAE,MAAM;YAAG,UAAU;YAAe,SAAS;YAAO,eAAe;QAAM;QACzE;YAAE,MAAM;YAAG,UAAU;YAAc,SAAS;YAAM,eAAe;QAAM;QACvE;YAAE,MAAM;YAAG,UAAU;YAAc,SAAS;YAAM,eAAe;QAAM;QACvE;YAAE,MAAM;YAAI,UAAU;YAAY,SAAS;YAAM,eAAe;QAAM;KACvE;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAgH;;;;;;0BAI9H,6LAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,sBACpB,6LAAC;wBAEC,WAAW,CAAC,8EAA8E,EACxF,MAAM,aAAa,GACf,iFACA,oBACJ;;0CAEF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAW,CAAC,UAAU,EAC1B,MAAM,IAAI,KAAK,IAAI,oBACnB,MAAM,IAAI,KAAK,IAAI,kBACnB,MAAM,IAAI,KAAK,IAAI,oBACnB,MAAM,aAAa,GAAG,kBACtB,mBACA;;4CAAE;4CACA,MAAM,IAAI,CAAC,QAAQ;;;;;;;kDAEvB,6LAAC;wCAAK,WAAW,MAAM,aAAa,GAAG,4BAA4B;kDAChE,MAAM,QAAQ;;;;;;;;;;;;0CAGnB,6LAAC;gCAAK,WAAU;0CACb,MAAM,OAAO,CAAC,cAAc;;;;;;;uBAtB1B,MAAM,IAAI;;;;;;;;;;;;;;;;AA6B3B;GAtDgB;;QACE,qIAAY;;;KADd"}},
    {"offset": {"line": 1599, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/components/slot/SlotMachine.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useGameStore } from '@/store/gameStore';\nimport { spinSlotMachine } from '@/lib/slotMachine';\nimport { audioManager } from '@/lib/audioManager';\nimport { PixiStage } from './PixiStage';\nimport { HUDOverlay } from './HUDOverlay';\nimport { DailyBonusModal } from './DailyBonusModal';\nimport { Leaderboard } from './Leaderboard';\n\nexport function SlotMachine(): JSX.Element {\n  const credits = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.credits);\n  const currentBet = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.currentBet);\n  const spinState = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.spinState);\n  const reelResults = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.reelResults);\n  const winLines = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.winLines);\n  const deductCredits = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.deductCredits);\n  const addCredits = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.addCredits);\n  const setSpinState = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.setSpinState);\n  const setReelResults = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.setReelResults);\n  const setWinLines = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.setWinLines);\n  const setLastWin = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.setLastWin);\n  const incrementSpinCount = useGameStore((state: ReturnType<typeof useGameStore.getState>) => state.incrementSpinCount);\n\n  const [isNearMiss, setIsNearMiss] = useState(false);\n  const [showLeaderboard, setShowLeaderboard] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    audioManager.init();\n  }, []);\n\n  const handleSpin = (): void => {\n    if (spinState !== 'idle' || credits < currentBet) return;\n\n    deductCredits(currentBet);\n    setSpinState('spinning');\n    setLastWin(0);\n    setWinLines([]);\n    incrementSpinCount();\n\n    const result = spinSlotMachine(currentBet);\n    \n    setReelResults(result.symbols);\n    setIsNearMiss(result.isNearMiss);\n\n    setTimeout(() => {\n      if (result.payout > 0) {\n        addCredits(result.payout);\n        setLastWin(result.payout);\n        setWinLines(result.winLines);\n        \n        if (result.winType === 'jackpot') {\n          audioManager.play('jackpot');\n        } else {\n          audioManager.play('win');\n        }\n\n        setTimeout(() => {\n          setLastWin(0);\n          setWinLines([]);\n        }, 4000);\n      }\n      \n      // Always reset spin state after animation completes\n      setTimeout(() => {\n        setSpinState('idle');\n      }, 500);\n    }, result.isNearMiss ? 3500 : 2000);\n  };\n\n  const handleSpinComplete = (): void => {\n    setSpinState('idle');\n  };\n\n  return (\n    <div className=\"relative w-full h-screen bg-gradient-to-b from-black via-purple-950 to-black overflow-hidden\">\n      <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-900/20 via-transparent to-transparent\" />\n      \n      <div className=\"absolute top-4 left-4 z-10\">\n        <button\n          onClick={() => setShowLeaderboard(!showLeaderboard)}\n          className=\"px-4 py-2 rounded-lg bg-purple-600/50 hover:bg-purple-500/70 text-white font-bold border-2 border-purple-400 transition-all\"\n        >\n          {showLeaderboard ? '‚Üê Back' : 'üèÜ Leaderboard'}\n        </button>\n      </div>\n\n      {showLeaderboard ? (\n        <div className=\"flex items-center justify-center h-full pt-16\">\n          <Leaderboard />\n        </div>\n      ) : (\n        <>\n          <div className=\"flex items-center justify-center h-full\">\n            <PixiStage\n              symbols={reelResults}\n              onSpinComplete={handleSpinComplete}\n              isSpinning={spinState === 'spinning'}\n              isNearMiss={isNearMiss}\n              winLines={winLines}\n            />\n          </div>\n\n          <HUDOverlay\n            onSpin={handleSpin}\n            canSpin={spinState === 'idle'}\n          />\n        </>\n      )}\n\n      <DailyBonusModal />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1809, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/spin-win/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { SlotMachine } from '@/components/slot/SlotMachine';\n\nexport default function Home() {\n  return (\n    <main className=\"flex min-h-screen flex-col items-center justify-center bg-black\">\n      <SlotMachine />\n    </main>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC;QAAK,WAAU;kBACd,cAAA,6LAAC,oJAAW;;;;;;;;;;AAGlB;KANwB"}}]
}